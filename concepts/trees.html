<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Types, models, trees &amp; state · MobX-state-tree</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;div id=&quot;codefund&quot;&gt;&lt;/div&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Types, models, trees &amp; state · MobX-state-tree"/><meta property="og:type" content="website"/><meta property="og:url" content="https://mobx-state-tree.js.org//"/><meta property="og:description" content="&lt;div id=&quot;codefund&quot;&gt;&lt;/div&gt;"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-65632006-4', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://codefund.io/properties/635/funder.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/favicon.ico" alt="MobX-state-tree"/><h2 class="headerTitleWithLogo">MobX-state-tree</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/intro/welcome" target="_self">Documentation</a></li><li class=""><a href="/API/" target="_self">TypeDocs</a></li><li class=""><a href="https://opencollective.com/mobx" target="_self">Sponsor</a></li><li class=""><a href="https://github.com/mobxjs/mobx-state-tree" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Basic Concepts</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Introduction<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/intro/welcome">Welcome to MobX-State-Tree!</a></li><li class="navListItem"><a class="navItem" href="/intro/installation">Installation</a></li><li class="navListItem"><a class="navItem" href="/intro/getting-started">Getting Started Tutorial</a></li><li class="navListItem"><a class="navItem" href="/intro/examples">Examples</a></li><li class="navListItem"><a class="navItem" href="/intro/philosophy">Overview &amp; Philosophy</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Basic Concepts<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem navListItemActive"><a class="navItem" href="/concepts/trees">Types, models, trees &amp; state</a></li><li class="navListItem"><a class="navItem" href="/concepts/actions">Actions</a></li><li class="navListItem"><a class="navItem" href="/concepts/views">Derived values</a></li><li class="navListItem"><a class="navItem" href="/concepts/using-react">React and MST</a></li><li class="navListItem"><a class="navItem" href="/concepts/snapshots">Snapshots</a></li><li class="navListItem"><a class="navItem" href="/concepts/references">Identifiers and references</a></li><li class="navListItem"><a class="navItem" href="/concepts/async-actions">Asynchronous actions</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Advanced Concepts<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/concepts/patches">Patches</a></li><li class="navListItem"><a class="navItem" href="/concepts/listeners">Listening to changes</a></li><li class="navListItem"><a class="navItem" href="/concepts/dependency-injection">Dependency Injection</a></li><li class="navListItem"><a class="navItem" href="/concepts/middleware">Middleware</a></li><li class="navListItem"><a class="navItem" href="/concepts/reconciliation">Reconciliation</a></li><li class="navListItem"><a class="navItem" href="/concepts/volatiles">Volatile state</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">API Overview<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/overview/types">Types overview</a></li><li class="navListItem"><a class="navItem" href="/overview/api">API overview</a></li><li class="navListItem"><a class="navItem" href="/overview/hooks">Lifecycle hooks overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Tips<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/tips/resources">Talks &amp; Blogs</a></li><li class="navListItem"><a class="navItem" href="/tips/faq">Frequently Asked Questions</a></li><li class="navListItem"><a class="navItem" href="/tips/typescript">TypeScript and MST</a></li><li class="navListItem"><a class="navItem" href="/tips/circular-deps">Circular dependencies</a></li><li class="navListItem"><a class="navItem" href="/tips/inheritance">Simulating inheritance</a></li><li class="navListItem"><a class="navItem" href="/tips/snapshots-as-values">Using snapshots as values</a></li><li class="navListItem"><a class="navItem" href="/tips/more-tips">Miscellaneous Tips</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Compare<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/compare/context-reducer-vs-mobx-state-tree">React Context vs. MobX-State-Tree</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Recipes<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/recipes/auto-generated-property-setter-actions">Auto-Generated Property Setter Actions</a></li><li class="navListItem"><a class="navItem" href="/recipes/pre-built-form-types-with-mst-form-type">Pre-built Form Types with MST Form Type</a></li><li class="navListItem"><a class="navItem" href="/recipes/mst-query">Manage Asynchronous Data with mst-query</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/mobxjs/mobx-state-tree/edit/master/docs/concepts/trees.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Types, models, trees &amp; state</h1></header><article><div><span><div id="codefund"></div>
<h3><a class="anchor" aria-hidden="true" id="tree--type--state"></a><a href="#tree--type--state" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>tree = type + state</h3>
<p>Each <strong>node</strong> in the tree is described by two things: Its <strong>type</strong> (the shape of the thing) and its <strong>data</strong> (the state it is currently in).</p>
<p>The simplest tree possible:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> { types } <span class="hljs-keyword">from</span> <span class="hljs-string">"mobx-state-tree"</span> <span class="hljs-comment">// alternatively, `import { t } from "mobx-state-tree"`</span>

<span class="hljs-comment">// declaring the shape of a node with the type `Todo`</span>
<span class="hljs-keyword">const</span> Todo = types.model({
  <span class="hljs-attr">title</span>: types.string
})

<span class="hljs-comment">// creating a tree based on the "Todo" type, with initial data:</span>
<span class="hljs-keyword">const</span> coffeeTodo = Todo.create({
  <span class="hljs-attr">title</span>: <span class="hljs-string">"Get coffee"</span>
})
</code></pre>
<p>The <code>types.model</code> type declaration is used to describe the shape of an object.
Other built-in types include arrays, maps, primitives, etc. See the <a href="/overview/types">types overview</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="creating-models"></a><a href="#creating-models" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating models</h3>
<p><details>
<summary style="color: white; background:#ff7000;padding:5px;margin:5px;border-radius:2px">egghead.io lesson 1: Describe Your Application Domain Using mobx-state-tree(MST) Models</summary>
<br>
<div style="padding:5px;">
<iframe style="border: none;" width=760 height=427  src="https://egghead.io/lessons/react-describe-your-application-domain-using-mobx-state-tree-mst-models/embed" ></iframe>
</div>
<a style="font-style:italic;padding:5px;margin:5px;"  href="https://egghead.io/lessons/react-describe-your-application-domain-using-mobx-state-tree-mst-models">Hosted on egghead.io</a>
</details></p>
<p>The most important type in MST is <code>types.model</code>, which can be used to describe the shape of an object.
An example:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> TodoStore = types
  <span class="hljs-comment">// 1</span>
  .model(<span class="hljs-string">"TodoStore"</span>, {
    <span class="hljs-attr">loaded</span>: types.boolean, <span class="hljs-comment">// 2</span>
    <span class="hljs-attr">endpoint</span>: <span class="hljs-string">"http://localhost"</span>, <span class="hljs-comment">// 3</span>
    <span class="hljs-attr">todos</span>: types.array(Todo), <span class="hljs-comment">// 4</span>
    <span class="hljs-attr">selectedTodo</span>: types.reference(Todo) <span class="hljs-comment">// 5</span>
  })
  .views(<span class="hljs-function">(<span class="hljs-params">self</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// 6</span>
      <span class="hljs-keyword">get</span> completedTodos() {
        <span class="hljs-keyword">return</span> self.todos.filter(<span class="hljs-function">(<span class="hljs-params">t</span>) =&gt;</span> t.done)
      },
      <span class="hljs-comment">// 7</span>
      findTodosByUser(user) {
        <span class="hljs-keyword">return</span> self.todos.filter(<span class="hljs-function">(<span class="hljs-params">t</span>) =&gt;</span> t.assignee === user)
      }
    }
  })
  .actions(<span class="hljs-function">(<span class="hljs-params">self</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> {
      addTodo(title) {
        self.todos.push({
          <span class="hljs-attr">id</span>: <span class="hljs-built_in">Math</span>.random(),
          title
        })
      }
    }
  })
</code></pre>
<p>When defining a model, it is advised to give the model a name for debugging purposes (see <code>// 1</code>).
A model takes additionally object argument defining the properties.</p>
<p>The <em>properties</em> argument is a key-value set where each key indicates the introduction of a property, and the value its type. The following types are acceptable:</p>
<ol>
<li>A type. This can be a simple primitive type like <code>types.boolean</code>, see <code>// 2</code>, or a complex, possibly pre-defined type (<code>// 4</code>)</li>
<li>A primitive. Using a primitive as type is syntactic sugar for introducing a property with a default value. See <code>// 3</code>, <code>endpoint: &quot;http://localhost&quot;</code> is the same as <code>endpoint: types.optional(types.string, &quot;http://localhost&quot;)</code>. The primitive type is inferred from the default value. Properties with a default value can be omitted in snapshots.</li>
<li>A <a href="https://mobx.js.org/computeds.html">computed property</a>, see <code>// 6</code>. Computed properties are tracked and memoized by MobX. Computed properties will not be stored in snapshots or emit patch events. It is possible to provide a setter for a computed property as well. A setter should always invoke an action.</li>
<li>A view function (see <code>// 7</code>). A view function can, unlike computed properties, take arbitrary arguments. It won't be memoized, but its value can be tracked by MobX nonetheless. View functions are not allowed to change the model, but should rather be used to retrieve information from the model.</li>
</ol>
<p><em>Tip: <code>(self) =&gt; ({ action1() { }, action2() { }})</code> is ES6 syntax for <code>function (self) { return { action1: function() { }, action2: function() { } }}</code>. In other words, it's short way of directly returning an object literal.
For that reason a comma between each member of a model is mandatory, unlike classes which are syntactically a totally different concept.</em></p>
<p><code>types.model</code> creates a chainable model type, where each chained method produces a new type:</p>
<ul>
<li><code>.named(name)</code> clones the current type, but gives it a new name</li>
<li><code>.props(props)</code> produces a new type, based on the current one, and adds / overrides the specified properties</li>
<li><code>.actions(self =&gt; object literal with actions)</code> produces a new type, based on the current one, and adds / overrides the specified actions</li>
<li><code>.views(self =&gt; object literal with view functions)</code> produces a new type, based on the current one, and adds / overrides the specified view functions</li>
<li><code>.preProcessSnapshot(snapshot =&gt; snapshot)</code> can be used to pre-process the raw JSON before instantiating a new model. See <a href="/overview/hooks">Lifecycle hooks</a> or alternatively <code>types.snapshotProcessor</code></li>
<li><code>.postProcessSnapshot(snapshot =&gt; snapshot)</code> can be used to post-process the raw JSON before getting a model snapshot. See <a href="/overview/hooks">Lifecycle hooks</a> or alternatively <code>types.snapshotProcessor</code></li>
</ul>
<p>Note that <code>views</code> and <code>actions</code> don't define actions and views directly, but rather they should be given a function.
The function will be invoked when a new model instance is created. The instance will be passed in as the first and only argument typically called <code>self</code>.
This has two advantages:</p>
<ol>
<li>All methods will always be bound correctly, and won't suffer from an unbound <code>this</code></li>
<li>The closure can be used to store private state or methods of the instance. See also <a href="/concepts/actions">actions</a> and <a href="/concepts/volatiles">volatile state</a>.</li>
</ol>
<p>Quick example:</p>
<pre><code class="hljs css language-javascript">const TodoStore = types
  .model("TodoStore", {
    /* props */
  })
  .actions((self) =&gt; {
    const instantiationTime = Date.now()

    function addTodo(title) {
      console.log(`Adding Todo ${title} after ${(Date.now() - instantiationTime) / 1000}s.`)
      self.todos.push({
        id: Math.random(),
        title
      })
    }

    return { addTodo }
  })
</code></pre>
<p>It is perfectly fine to chain multiple <code>views</code>, <code>props</code> calls etc in arbitrary order. This can be a great way to structure complex types, mix-in utility functions, etc. Each call in the chain creates a new, immutable type which can itself be stored and reused as part of other types, etc.</p>
<p>It is also possible to define lifecycle hooks in the <em>actions</em> object. These are actions with a predefined name that are run at a specific moment. See <a href="/overview/hooks">Lifecycle hooks</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="composing-trees"></a><a href="#composing-trees" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Composing trees</h3>
<p>In MST every node in the tree is a tree in itself.
Trees can be composed by composing their types:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> TodoStore = types.model({
  <span class="hljs-attr">todos</span>: types.array(Todo)
})

<span class="hljs-keyword">const</span> storeInstance = TodoStore.create({
  <span class="hljs-attr">todos</span>: [
    {
      <span class="hljs-attr">title</span>: <span class="hljs-string">"Get biscuit"</span>
    }
  ]
})
</code></pre>
<p>The <em>snapshot</em> passed to the <code>create</code> method of a type will recursively be turned in MST nodes. So, you can safely call:</p>
<pre><code class="hljs css language-javascript">storeInstance.todos[<span class="hljs-number">0</span>].setTitle(<span class="hljs-string">"Chocolate instead plz"</span>)
</code></pre>
<p>Because any node in a tree is a tree in itself, any built-in method in MST can be invoked on any node in the tree, not just the root.
This makes it possible to get a patch stream of a certain subtree, or to apply middleware to a certain subtree only.</p>
<h3><a class="anchor" aria-hidden="true" id="tree-semantics-in-detail"></a><a href="#tree-semantics-in-detail" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tree semantics in detail</h3>
<p>MST trees have very specific semantics. These semantics purposefully constrain what you can do with MST. The reward for that is all kinds of generic features out of the box like snapshots, replayability, etc. If these constraints don't suit your app, you are probably better off using plain MobX with your own model classes, which is fine as well.</p>
<ol>
<li>Each object in an MST tree is considered a <em>node</em>. Each primitive (and frozen) value is considered a <em>leaf</em>.</li>
<li>MST has only three types of nodes: <em>model</em>, <em>array</em> and <em>map</em>.</li>
<li>Every <em>node</em> tree in an MST tree is a tree in itself. Any operation that can be invoked on the complete tree can also be applied to a subtree.</li>
<li>A node can only exist exactly <em>once</em> in a tree. This ensures it has a unique, identifiable position.</li>
<li>It is however possible to refer to another object in the <em>same</em> tree by using <em>references</em></li>
<li>There is no limit to the number of MST trees that live in an application. However, each node can only live in exactly one tree.</li>
<li>All <em>leaves</em> in the tree must be serializable. It is not possible to store, for example, functions in a MST.</li>
<li>The only free-form type in MST is frozen, with the requirement that frozen values are immutable and serializable so that the MST semantics can still be upheld.</li>
<li>At any point in the tree it is possible to assign a snapshot to the tree instead of a concrete instance of the expected type. In that case an instance of the correct type, based on the snapshot, will be automatically created for you.</li>
<li>Nodes in the MST tree will be reconciled (the exact same instance will be reused) when updating the tree by any means, based on their <em>identifier</em> property. If there is no identifier property, instances won't be reconciled.</li>
<li>If a node in the tree is replaced by another node, the original node will die and become unusable. This makes sure you are not accidentally holding on to stale objects anywhere in your application.</li>
<li>If you want to create a new node based on an existing node in a tree, you can either <code>detach</code> that node, or <code>clone</code> it.</li>
</ol>
<p>These egghead.io lessons nicely leverage the specific semantics of MST trees:</p>
<p><details>
<summary style="color: white; background:#ff7000;padding:5px;margin:5px;border-radius:2px">egghead.io lesson 6: Build Forms with React to Edit mobx-state-tree Models</summary>
<br>
<div style="padding:5px;">
<iframe style="border: none;" width=760 height=427  src="https://egghead.io/lessons/react-build-forms-with-react-to-edit-mobx-state-tree-models/embed" ></iframe>
</div>
<a style="font-style:italic;padding:5px;margin:5px;"  href="https://egghead.io/lessons/react-build-forms-with-react-to-edit-mobx-state-tree-models">Hosted on egghead.io</a>
</details></p>
<p><details>
<summary style="color: white; background:#ff7000;padding:5px;margin:5px;border-radius:2px">egghead.io lesson 7: Remove Model Instances from the Tree</summary>
<br>
<div style="padding:5px;">
<iframe style="border: none;" width=760 height=427  src="https://egghead.io/lessons/react-remove-model-instances-from-the-tree/embed" ></iframe>
</div>
<a style="font-style:italic;padding:5px;margin:5px;"  href="https://egghead.io/lessons/react-remove-model-instances-from-the-tree">Hosted on egghead.io</a>
</details></p>
<p><details>
<summary style="color: white; background:#ff7000;padding:5px;margin:5px;border-radius:2px">egghead.io lesson 8: Create an Entry Form to Add Models to the State Tree</summary>
<br>
<div style="padding:5px;">
<iframe style="border: none;" width=760 height=427  src="https://egghead.io/lessons/react-create-an-entry-form-to-add-models-to-the-state-tree/embed" ></iframe>
</div>
<a style="font-style:italic;padding:5px;margin:5px;"  href="https://egghead.io/lessons/react-create-an-entry-form-to-add-models-to-the-state-tree">Hosted on egghead.io</a>
</details></p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/intro/philosophy"><span class="arrow-prev">← </span><span>Overview &amp; Philosophy</span></a><a class="docs-next button" href="/concepts/actions"><span>Actions</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/favicon.ico" alt="MobX-state-tree" width="66" height="58"/></a><div><h5>Docs</h5><a href="/intro/getting-started">Getting Started</a><a href="/concepts/trees">Basic concepts</a><a href="/concepts/patches">Advanced concepts</a><a href="/overview/types">API Reference</a></div><div><h5>Community</h5><a href="https://github.com/mobxjs/mobx-state-tree/discussions" target="_blank" rel="noreferrer noopener">GitHub Discussions</a><a href="https://stackoverflow.com/questions/tagged/mobx-state-tree" target="_blank" rel="noreferrer noopener">Stack Overflow</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/mobxjs/mobx-state-tree">GitHub</a><a class="github-button" href="https://github.com/mobxjs/mobx-state-tree" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://opensource.facebook.com/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2025 Michel Weststrate</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'b7b0cfe7d1c8fa6db6089df94a3128f1',
                indexName: 'mobx-state-tree',
                inputSelector: '#search_input_react'
              });
            </script></body></html>